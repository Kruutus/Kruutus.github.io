(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{212:function(e,t,a){"use strict";a.d(t,"a",(function(){return m}));var r=a(216),n=a(0),c=a.n(n),l=a(195),i=a(205);var s=e=>Object(i.a)({underline:{position:"relative",width:"fit-content","&::after":{position:"absolute",content:'""',bottom:"-4px",left:"0",right:"0",borderRadius:"3px",height:e=>e.height||6,width:e=>e.width||100,background:t=>t.color||e.palette.primary.main}}});const o=Object(l.a)(s);var m=({width:e,height:t,color:a,children:n})=>{const{underline:l}=o({width:e,height:t,color:a});return c.a.createElement(r.a,{className:l},n)}},214:function(e,t,a){"use strict";t.a=a.p+"5c07f082d3506bd703ec6c24b8dac831.png"},269:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return M}));var r=a(0),n=a.n(r),c=a(8),l=(a(82),a(83),a(84),a(85),a(86),a(87),a(88),a(89),a(90),a(91),a(92),a(93),a(94),a(36),a(208)),i=a(204),s=a(216),o=a(199),m=a(232),u=a.n(m),p=a(195),d=a(206);function b(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function h(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?b(Object(a),!0).forEach((function(t){g(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):b(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function g(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const E={firstName:"",lastName:"",email:"",subbed:!1,accepted:!1,password:"",passwordRepeat:""},f=Object(r.createContext)({state:E,dispatch:()=>null}),v=(e,t)=>h(h({},e),t),w=e=>()=>{const[t,a]=Object(r.useReducer)(v,E);return n.a.createElement(f.Provider,{value:{state:t,dispatch:a}},n.a.createElement(e,null))};var O=f,j=a(212);var y=a(205);var x=e=>Object(y.a)({title:{fontSize:50,fontWeight:900},form:{marginTop:e.spacing(5),display:"flex",flexDirection:"column"}}),N=a(266),C=a(271),k=a(267);var P=()=>{const{t:e}=Object(d.a)(),{state:{lastName:t,firstName:a,accepted:c,subbed:i,email:o},dispatch:m}=Object(r.useContext)(O);return n.a.createElement(n.a.Fragment,null,n.a.createElement(l.a,{container:!0,spacing:5},n.a.createElement(l.a,{item:!0,xs:12,sm:6},n.a.createElement(k.a,{fullWidth:!0,value:t,onChange:e=>m({lastName:e.target.value}),required:!0,name:"lastName",autoFocus:!0,label:e("auth.lastName")})),n.a.createElement(l.a,{item:!0,xs:12,sm:6},n.a.createElement(k.a,{fullWidth:!0,value:a,onChange:e=>m({firstName:e.target.value}),required:!0,name:"firstName",label:e("auth.firstName")})),n.a.createElement(l.a,{item:!0,xs:12},n.a.createElement(k.a,{fullWidth:!0,required:!0,value:o,onChange:e=>m({email:e.target.value}),name:"email",type:"email",label:e("auth.email")}))),n.a.createElement(s.a,{mb:5}),n.a.createElement(N.a,{control:n.a.createElement(C.a,{required:!0,color:"primary",checked:c,onChange:e=>m({accepted:e.target.checked})}),label:e("auth.accept")}),n.a.createElement(N.a,{control:n.a.createElement(C.a,{color:"primary",checked:i,onChange:e=>m({subbed:e.target.checked})}),label:e("auth.sub")}))};var S=()=>{const{t:e}=Object(d.a)(),{state:{password:t,passwordRepeat:a},dispatch:c}=Object(r.useContext)(O);return n.a.createElement(n.a.Fragment,null,n.a.createElement(k.a,{required:!0,value:t,onChange:e=>c({password:e.target.value}),name:"password",type:"password",label:e("auth.password")}),n.a.createElement(s.a,{mb:5}),n.a.createElement(k.a,{required:!0,value:a,onChange:e=>c({passwordRepeat:e.target.value}),name:"passwordRepeat",type:"password",label:e("auth.passwordRepeat")}))};const q=new Map;q.set(0,()=>n.a.createElement(P,null)),q.set(1,()=>n.a.createElement(S,null));const D=Object(p.a)(x);var R=w(()=>{const{title:e,form:t}=D(),{t:a}=Object(d.a)(),{state:{firstName:m,lastName:p,email:b,password:h,passwordRepeat:g,accepted:E}}=Object(r.useContext)(O),[f,v]=Object(r.useState)(0),w=f===q.size-1,y=Object(c.g)();return n.a.createElement(s.a,{my:4,mx:8},n.a.createElement(s.a,{display:"flex",justifyContent:"space-between",alignItems:"center"},n.a.createElement(j.a,null,n.a.createElement(o.a,{className:e},a("auth.register"))),n.a.createElement(o.a,{variant:"h4"},`${f+1}/${q.size}`)),n.a.createElement("form",{className:t,onSubmit:e=>{if(e.preventDefault(),w||v(f+1),w){const e={email:b,password:h,displayName:`${m} ${p}`,emailVerified:!1,disabled:!1};u.a.post("https://us-central1-getmoving-5a566.cloudfunctions.net/app/api/register-user",e).then(e=>{console.log(e),y.push("/auth/confirm")}).catch(e=>{alert(e.message)})}}},n.a.createElement(s.a,null,q.get(f)),n.a.createElement(s.a,{mb:5}),n.a.createElement(l.a,{container:!0,justify:f?"space-between":"center"},f?n.a.createElement(l.a,{item:!0},n.a.createElement(i.a,{onClick:()=>v(f-1),type:"button",variant:"outlined",color:"inherit"},a("auth.back"))):n.a.createElement(n.a.Fragment,null),n.a.createElement(l.a,{item:!0},n.a.createElement(i.a,{disabled:!(()=>{switch(f){case 0:return!!(m&&p&&b&&E);case 1:return!(!h||!g||h!==g);default:return!0}})(),type:"submit",variant:"contained",color:"primary"},a(`auth.${w?"register":"next"}`))))))}),$=a(214);var W=e=>Object(y.a)({extraSpacingTop:{paddingTop:e.mixins.toolbar.height},img:{backgroundImage:`url(${$.a})`,backgroundPosition:"80%",backgroundSize:"cover",height:"100vh"}});const z=Object(p.a)(W);var F=({children:e})=>{const{extraSpacingTop:t,img:a}=z();return n.a.createElement(n.a.Fragment,null,n.a.createElement(s.a,{className:t}),n.a.createElement(l.a,{container:!0},n.a.createElement(l.a,{item:!0,xs:"auto",md:4,lg:5},n.a.createElement(s.a,{className:a})),n.a.createElement(l.a,{item:!0,xs:12,md:8,lg:7},e)))},T=a(53);var I=e=>Object(y.a)({title:{fontSize:50,fontWeight:900},form:{marginTop:e.spacing(5),display:"flex",flexDirection:"column"}});const A=Object(p.a)(I);var J=w(()=>{const{title:e,form:t}=A(),{t:a}=Object(d.a)(),l=Object(c.g)(),[m,u]=Object(r.useState)(""),[p,b]=Object(r.useState)("");return n.a.createElement(s.a,{my:4,mx:8},n.a.createElement(j.a,null,n.a.createElement(o.a,{className:e},a("auth.login"))),n.a.createElement("form",{className:t,onSubmit:async e=>{e.preventDefault();const{user:t}=await T.a.auth().signInWithEmailAndPassword(m,p);t?l.push("/"):alert("sikertelen belépés!")}},n.a.createElement(k.a,{required:!0,value:m,onChange:e=>u(e.target.value),name:"email",type:"email",label:a("auth.email")}),n.a.createElement(s.a,{mb:5}),n.a.createElement(k.a,{required:!0,value:p,onChange:e=>b(e.target.value),name:"password",type:"password",label:a("auth.password")}),n.a.createElement(s.a,{textAlign:"center",mt:5},n.a.createElement(i.a,{type:"submit",variant:"contained",color:"primary"},a("auth.login")))))});var M=({match:e})=>n.a.createElement(F,null,n.a.createElement(c.d,null,n.a.createElement(c.b,{path:`${e.path}/register`,component:R}),n.a.createElement(c.b,{path:`${e.path}/login`,component:J}),n.a.createElement(c.a,{to:"/"})))}}]);